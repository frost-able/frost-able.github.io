<!DOCTYPE html>
<html lang="id">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Stok Barang</title>
    <link rel="stylesheet" href="../../src/css/edit_stock.css">
    
</head>
<body>

    <h1>Edit Stok Barang</h1>
    <a href="stock.html" style="display: inline-block; margin-bottom: 20px; padding: 10px 15px; background-color: #007bff; color: white; text-decoration: none; border-radius: 4px;">Kembali</a>
    <form id="editForm" action="../../src/php/edit_stock.php" method="post">

        <input type="hidden" id="kode_barang" name="kode_barang">
        
        <label for="nama_barang">Nama Barang:</label>
        <input type="text" id="nama_barang" name="nama_barang" required>

        <label for="nama_barang">Grup Barang:</label>
        <input type="text" id="grup_barang" name="grup_barang" required>

        <label for="harga_beli">Harga Beli:</label>
        <input type="number" id="harga_beli" name="harga_beli" required>

        <label for="harga_jual">Harga Jual:</label>
        <input type="number" id="harga_jual" name="harga_jual" required>

        <label for="sisa_stock">Sisa Stock:</label>
        <input type="number" id="sisa_stock" name="sisa_stock" required>

        <label for="satuan_barang">Satuan Barang:</label>
        <input type="text" id="satuan_barang" name="satuan_barang" required>

        <input type="submit" value="Update">

    </form>
    <script>

        const urlParams = new URLSearchParams(window.location.search);
        const kodeBarang = urlParams.get('kode_barang');

        fetch(`../../src/php/get_stock.php?kode_barang=${encodeURIComponent(kodeBarang)}`)
            .then(response => response.json())
            .then(data => {

                document.getElementById('kode_barang').value = data.Kode_Barang;
                document.getElementById('nama_barang').value = data.Nama_Barang;
                document.getElementById('grup_barang').value = data.Grup_Barang;
                document.getElementById('harga_beli').value = data.Harga_Beli;
                document.getElementById('harga_jual').value = data.Harga_Jual;
                document.getElementById('sisa_stock').value = data.Sisa_Stock;
                document.getElementById('satuan_barang').value = data.Satuan_Barang;

            })
            
            .catch(error => console.error('Error fetching stock data:', error));

    </script>

</body>
</html>